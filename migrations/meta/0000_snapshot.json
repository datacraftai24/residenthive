{
  "id": "fdbd96f5-4221-4fd2-b211-d55502fab542",
  "prevId": "00000000-0000-0000-0000-000000000000",
  "version": "7",
  "dialect": "postgresql",
  "tables": {
    "public.agent_action_feedback": {
      "name": "agent_action_feedback",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "serial",
          "primaryKey": true,
          "notNull": true
        },
        "profile_id": {
          "name": "profile_id",
          "type": "integer",
          "primaryKey": false,
          "notNull": true
        },
        "action_id": {
          "name": "action_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "action_taken": {
          "name": "action_taken",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "created_at": {
          "name": "created_at",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        }
      },
      "indexes": {},
      "foreignKeys": {
        "agent_action_feedback_profile_id_buyer_profiles_id_fk": {
          "name": "agent_action_feedback_profile_id_buyer_profiles_id_fk",
          "tableFrom": "agent_action_feedback",
          "tableTo": "buyer_profiles",
          "columnsFrom": [
            "profile_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.agent_insight_feedback": {
      "name": "agent_insight_feedback",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "serial",
          "primaryKey": true,
          "notNull": true
        },
        "profile_id": {
          "name": "profile_id",
          "type": "integer",
          "primaryKey": false,
          "notNull": true
        },
        "tag_name": {
          "name": "tag_name",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "persona_field": {
          "name": "persona_field",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "feedback_type": {
          "name": "feedback_type",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "created_at": {
          "name": "created_at",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        }
      },
      "indexes": {},
      "foreignKeys": {
        "agent_insight_feedback_profile_id_buyer_profiles_id_fk": {
          "name": "agent_insight_feedback_profile_id_buyer_profiles_id_fk",
          "tableFrom": "agent_insight_feedback",
          "tableTo": "buyer_profiles",
          "columnsFrom": [
            "profile_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.agent_interactions": {
      "name": "agent_interactions",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "serial",
          "primaryKey": true,
          "notNull": true
        },
        "transaction_id": {
          "name": "transaction_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "profile_id": {
          "name": "profile_id",
          "type": "integer",
          "primaryKey": false,
          "notNull": true
        },
        "interaction_type": {
          "name": "interaction_type",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "listing_id": {
          "name": "listing_id",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "interaction_data": {
          "name": "interaction_data",
          "type": "json",
          "primaryKey": false,
          "notNull": true
        },
        "session_duration": {
          "name": "session_duration",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "agent_confidence": {
          "name": "agent_confidence",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        }
      },
      "indexes": {},
      "foreignKeys": {
        "agent_interactions_transaction_id_search_transactions_transaction_id_fk": {
          "name": "agent_interactions_transaction_id_search_transactions_transaction_id_fk",
          "tableFrom": "agent_interactions",
          "tableTo": "search_transactions",
          "columnsFrom": [
            "transaction_id"
          ],
          "columnsTo": [
            "transaction_id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        },
        "agent_interactions_profile_id_buyer_profiles_id_fk": {
          "name": "agent_interactions_profile_id_buyer_profiles_id_fk",
          "tableFrom": "agent_interactions",
          "tableTo": "buyer_profiles",
          "columnsFrom": [
            "profile_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.agent_notes": {
      "name": "agent_notes",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "serial",
          "primaryKey": true,
          "notNull": true
        },
        "profile_id": {
          "name": "profile_id",
          "type": "integer",
          "primaryKey": false,
          "notNull": true
        },
        "note": {
          "name": "note",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "created_at": {
          "name": "created_at",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        }
      },
      "indexes": {},
      "foreignKeys": {
        "agent_notes_profile_id_buyer_profiles_id_fk": {
          "name": "agent_notes_profile_id_buyer_profiles_id_fk",
          "tableFrom": "agent_notes",
          "tableTo": "buyer_profiles",
          "columnsFrom": [
            "profile_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.agents": {
      "name": "agents",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "serial",
          "primaryKey": true,
          "notNull": true
        },
        "email": {
          "name": "email",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "password_hash": {
          "name": "password_hash",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "first_name": {
          "name": "first_name",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "last_name": {
          "name": "last_name",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "brokerage_name": {
          "name": "brokerage_name",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "invite_token": {
          "name": "invite_token",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "is_activated": {
          "name": "is_activated",
          "type": "boolean",
          "primaryKey": false,
          "notNull": true,
          "default": false
        },
        "created_at": {
          "name": "created_at",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        }
      },
      "indexes": {},
      "foreignKeys": {},
      "compositePrimaryKeys": {},
      "uniqueConstraints": {
        "agents_email_unique": {
          "name": "agents_email_unique",
          "nullsNotDistinct": false,
          "columns": [
            "email"
          ]
        },
        "agents_invite_token_unique": {
          "name": "agents_invite_token_unique",
          "nullsNotDistinct": false,
          "columns": [
            "invite_token"
          ]
        }
      },
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.buyer_profiles": {
      "name": "buyer_profiles",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "serial",
          "primaryKey": true,
          "notNull": true
        },
        "name": {
          "name": "name",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "email": {
          "name": "email",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "phone": {
          "name": "phone",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "location": {
          "name": "location",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "agent_id": {
          "name": "agent_id",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "buyer_type": {
          "name": "buyer_type",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "default": "'traditional'"
        },
        "budget": {
          "name": "budget",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "budget_min": {
          "name": "budget_min",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "budget_max": {
          "name": "budget_max",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "home_type": {
          "name": "home_type",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "bedrooms": {
          "name": "bedrooms",
          "type": "integer",
          "primaryKey": false,
          "notNull": true
        },
        "bathrooms": {
          "name": "bathrooms",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "investor_type": {
          "name": "investor_type",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "investment_capital": {
          "name": "investment_capital",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "target_monthly_return": {
          "name": "target_monthly_return",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "target_cap_rate": {
          "name": "target_cap_rate",
          "type": "numeric(5, 2)",
          "primaryKey": false,
          "notNull": false
        },
        "investment_strategy": {
          "name": "investment_strategy",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "must_have_features": {
          "name": "must_have_features",
          "type": "json",
          "primaryKey": false,
          "notNull": true,
          "default": "'[]'::json"
        },
        "dealbreakers": {
          "name": "dealbreakers",
          "type": "json",
          "primaryKey": false,
          "notNull": true,
          "default": "'[]'::json"
        },
        "preferred_areas": {
          "name": "preferred_areas",
          "type": "json",
          "primaryKey": false,
          "notNull": true,
          "default": "'[]'::json"
        },
        "lifestyle_drivers": {
          "name": "lifestyle_drivers",
          "type": "json",
          "primaryKey": false,
          "notNull": true,
          "default": "'[]'::json"
        },
        "special_needs": {
          "name": "special_needs",
          "type": "json",
          "primaryKey": false,
          "notNull": true,
          "default": "'[]'::json"
        },
        "budget_flexibility": {
          "name": "budget_flexibility",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 50
        },
        "location_flexibility": {
          "name": "location_flexibility",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 50
        },
        "timing_flexibility": {
          "name": "timing_flexibility",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 50
        },
        "emotional_context": {
          "name": "emotional_context",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "voice_transcript": {
          "name": "voice_transcript",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "inferred_tags": {
          "name": "inferred_tags",
          "type": "json",
          "primaryKey": false,
          "notNull": true,
          "default": "'[]'::json"
        },
        "emotional_tone": {
          "name": "emotional_tone",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "priority_score": {
          "name": "priority_score",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 50
        },
        "raw_input": {
          "name": "raw_input",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "input_method": {
          "name": "input_method",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "default": "'form'"
        },
        "nlp_confidence": {
          "name": "nlp_confidence",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "default": 100
        },
        "version": {
          "name": "version",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 1
        },
        "parent_profile_id": {
          "name": "parent_profile_id",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        }
      },
      "indexes": {},
      "foreignKeys": {
        "buyer_profiles_agent_id_agents_id_fk": {
          "name": "buyer_profiles_agent_id_agents_id_fk",
          "tableFrom": "buyer_profiles",
          "tableTo": "agents",
          "columnsFrom": [
            "agent_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.cached_search_results": {
      "name": "cached_search_results",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "serial",
          "primaryKey": true,
          "notNull": true
        },
        "profile_id": {
          "name": "profile_id",
          "type": "integer",
          "primaryKey": false,
          "notNull": true
        },
        "profile_fingerprint": {
          "name": "profile_fingerprint",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "search_method": {
          "name": "search_method",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "top_picks": {
          "name": "top_picks",
          "type": "json",
          "primaryKey": false,
          "notNull": true
        },
        "other_matches": {
          "name": "other_matches",
          "type": "json",
          "primaryKey": false,
          "notNull": true
        },
        "properties_without_images": {
          "name": "properties_without_images",
          "type": "json",
          "primaryKey": false,
          "notNull": true,
          "default": "'[]'::json"
        },
        "chat_blocks": {
          "name": "chat_blocks",
          "type": "json",
          "primaryKey": false,
          "notNull": true,
          "default": "'[]'::json"
        },
        "search_summary": {
          "name": "search_summary",
          "type": "json",
          "primaryKey": false,
          "notNull": true
        },
        "total_listings_processed": {
          "name": "total_listings_processed",
          "type": "integer",
          "primaryKey": false,
          "notNull": true
        },
        "visual_analysis_count": {
          "name": "visual_analysis_count",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 0
        },
        "execution_time_ms": {
          "name": "execution_time_ms",
          "type": "integer",
          "primaryKey": false,
          "notNull": true
        },
        "cache_version": {
          "name": "cache_version",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 1
        },
        "expires_at": {
          "name": "expires_at",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "created_at": {
          "name": "created_at",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "last_accessed_at": {
          "name": "last_accessed_at",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        }
      },
      "indexes": {},
      "foreignKeys": {
        "cached_search_results_profile_id_buyer_profiles_id_fk": {
          "name": "cached_search_results_profile_id_buyer_profiles_id_fk",
          "tableFrom": "cached_search_results",
          "tableTo": "buyer_profiles",
          "columnsFrom": [
            "profile_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.chat_agent_insights": {
      "name": "chat_agent_insights",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "text",
          "primaryKey": true,
          "notNull": true
        },
        "session_id": {
          "name": "session_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "profile_id": {
          "name": "profile_id",
          "type": "integer",
          "primaryKey": false,
          "notNull": true
        },
        "agent_id": {
          "name": "agent_id",
          "type": "integer",
          "primaryKey": false,
          "notNull": true
        },
        "insight_type": {
          "name": "insight_type",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "insight_message": {
          "name": "insight_message",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "confidence_score": {
          "name": "confidence_score",
          "type": "numeric(3, 2)",
          "primaryKey": false,
          "notNull": true
        },
        "priority": {
          "name": "priority",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "default": "'medium'"
        },
        "action_suggested": {
          "name": "action_suggested",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "status": {
          "name": "status",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "default": "'new'"
        },
        "generated_at": {
          "name": "generated_at",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "created_at": {
          "name": "created_at",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        }
      },
      "indexes": {},
      "foreignKeys": {
        "chat_agent_insights_session_id_chat_sessions_id_fk": {
          "name": "chat_agent_insights_session_id_chat_sessions_id_fk",
          "tableFrom": "chat_agent_insights",
          "tableTo": "chat_sessions",
          "columnsFrom": [
            "session_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        },
        "chat_agent_insights_profile_id_buyer_profiles_id_fk": {
          "name": "chat_agent_insights_profile_id_buyer_profiles_id_fk",
          "tableFrom": "chat_agent_insights",
          "tableTo": "buyer_profiles",
          "columnsFrom": [
            "profile_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        },
        "chat_agent_insights_agent_id_agents_id_fk": {
          "name": "chat_agent_insights_agent_id_agents_id_fk",
          "tableFrom": "chat_agent_insights",
          "tableTo": "agents",
          "columnsFrom": [
            "agent_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.chat_messages": {
      "name": "chat_messages",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "text",
          "primaryKey": true,
          "notNull": true
        },
        "session_id": {
          "name": "session_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "message": {
          "name": "message",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "ai_response": {
          "name": "ai_response",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "timestamp": {
          "name": "timestamp",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "question_category": {
          "name": "question_category",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "sentiment_score": {
          "name": "sentiment_score",
          "type": "numeric(3, 2)",
          "primaryKey": false,
          "notNull": false
        },
        "property_mentioned": {
          "name": "property_mentioned",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "intent_classification": {
          "name": "intent_classification",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "agent_path": {
          "name": "agent_path",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "search_transaction_id": {
          "name": "search_transaction_id",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        }
      },
      "indexes": {},
      "foreignKeys": {
        "chat_messages_session_id_chat_sessions_id_fk": {
          "name": "chat_messages_session_id_chat_sessions_id_fk",
          "tableFrom": "chat_messages",
          "tableTo": "chat_sessions",
          "columnsFrom": [
            "session_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.chat_search_context": {
      "name": "chat_search_context",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "serial",
          "primaryKey": true,
          "notNull": true
        },
        "session_id": {
          "name": "session_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "search_transaction_id": {
          "name": "search_transaction_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "context_type": {
          "name": "context_type",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "is_active": {
          "name": "is_active",
          "type": "boolean",
          "primaryKey": false,
          "notNull": true,
          "default": true
        },
        "created_at": {
          "name": "created_at",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        }
      },
      "indexes": {},
      "foreignKeys": {
        "chat_search_context_session_id_chat_sessions_id_fk": {
          "name": "chat_search_context_session_id_chat_sessions_id_fk",
          "tableFrom": "chat_search_context",
          "tableTo": "chat_sessions",
          "columnsFrom": [
            "session_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        },
        "chat_search_context_search_transaction_id_search_transactions_transaction_id_fk": {
          "name": "chat_search_context_search_transaction_id_search_transactions_transaction_id_fk",
          "tableFrom": "chat_search_context",
          "tableTo": "search_transactions",
          "columnsFrom": [
            "search_transaction_id"
          ],
          "columnsTo": [
            "transaction_id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.chat_sessions": {
      "name": "chat_sessions",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "text",
          "primaryKey": true,
          "notNull": true
        },
        "profile_id": {
          "name": "profile_id",
          "type": "integer",
          "primaryKey": false,
          "notNull": true
        },
        "agent_id": {
          "name": "agent_id",
          "type": "integer",
          "primaryKey": false,
          "notNull": true
        },
        "session_start": {
          "name": "session_start",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "last_activity": {
          "name": "last_activity",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "total_questions": {
          "name": "total_questions",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 0
        },
        "engagement_score": {
          "name": "engagement_score",
          "type": "numeric(3, 1)",
          "primaryKey": false,
          "notNull": true,
          "default": "'0.0'"
        },
        "return_visits": {
          "name": "return_visits",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 0
        },
        "decision_stage": {
          "name": "decision_stage",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "default": "'browsing'"
        },
        "status": {
          "name": "status",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "default": "'active'"
        },
        "created_at": {
          "name": "created_at",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        }
      },
      "indexes": {},
      "foreignKeys": {
        "chat_sessions_profile_id_buyer_profiles_id_fk": {
          "name": "chat_sessions_profile_id_buyer_profiles_id_fk",
          "tableFrom": "chat_sessions",
          "tableTo": "buyer_profiles",
          "columnsFrom": [
            "profile_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        },
        "chat_sessions_agent_id_agents_id_fk": {
          "name": "chat_sessions_agent_id_agents_id_fk",
          "tableFrom": "chat_sessions",
          "tableTo": "agents",
          "columnsFrom": [
            "agent_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.investment_strategies": {
      "name": "investment_strategies",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "serial",
          "primaryKey": true,
          "notNull": true
        },
        "profile_id": {
          "name": "profile_id",
          "type": "integer",
          "primaryKey": false,
          "notNull": true
        },
        "session_id": {
          "name": "session_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "strategy_json": {
          "name": "strategy_json",
          "type": "json",
          "primaryKey": false,
          "notNull": true
        },
        "market_analysis": {
          "name": "market_analysis",
          "type": "json",
          "primaryKey": false,
          "notNull": true
        },
        "property_recommendations": {
          "name": "property_recommendations",
          "type": "json",
          "primaryKey": false,
          "notNull": true
        },
        "financial_projections": {
          "name": "financial_projections",
          "type": "json",
          "primaryKey": false,
          "notNull": true
        },
        "generation_time": {
          "name": "generation_time",
          "type": "bigint",
          "primaryKey": false,
          "notNull": true
        },
        "data_sources_used": {
          "name": "data_sources_used",
          "type": "json",
          "primaryKey": false,
          "notNull": true
        },
        "status": {
          "name": "status",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "default": "'generating'"
        },
        "document_url": {
          "name": "document_url",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "completed_at": {
          "name": "completed_at",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        }
      },
      "indexes": {},
      "foreignKeys": {
        "investment_strategies_profile_id_buyer_profiles_id_fk": {
          "name": "investment_strategies_profile_id_buyer_profiles_id_fk",
          "tableFrom": "investment_strategies",
          "tableTo": "buyer_profiles",
          "columnsFrom": [
            "profile_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {
        "investment_strategies_session_id_unique": {
          "name": "investment_strategies_session_id_unique",
          "nullsNotDistinct": false,
          "columns": [
            "session_id"
          ]
        }
      },
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.investment_strategy_scores": {
      "name": "investment_strategy_scores",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "serial",
          "primaryKey": true,
          "notNull": true
        },
        "session_id": {
          "name": "session_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "property_id": {
          "name": "property_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "strategy_id": {
          "name": "strategy_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "property_address": {
          "name": "property_address",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "property_price": {
          "name": "property_price",
          "type": "integer",
          "primaryKey": false,
          "notNull": true
        },
        "property_data": {
          "name": "property_data",
          "type": "json",
          "primaryKey": false,
          "notNull": true
        },
        "strategy_name": {
          "name": "strategy_name",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "strategy_type": {
          "name": "strategy_type",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "down_payment_percent": {
          "name": "down_payment_percent",
          "type": "numeric(5, 2)",
          "primaryKey": false,
          "notNull": false
        },
        "down_payment_amount": {
          "name": "down_payment_amount",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "monthly_income": {
          "name": "monthly_income",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "monthly_expenses": {
          "name": "monthly_expenses",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "monthly_cash_flow": {
          "name": "monthly_cash_flow",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "cap_rate": {
          "name": "cap_rate",
          "type": "numeric(5, 2)",
          "primaryKey": false,
          "notNull": false
        },
        "cash_on_cash_return": {
          "name": "cash_on_cash_return",
          "type": "numeric(5, 2)",
          "primaryKey": false,
          "notNull": false
        },
        "overall_score": {
          "name": "overall_score",
          "type": "numeric(5, 2)",
          "primaryKey": false,
          "notNull": true
        },
        "scoring_factors": {
          "name": "scoring_factors",
          "type": "json",
          "primaryKey": false,
          "notNull": false
        },
        "ai_reasoning": {
          "name": "ai_reasoning",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "is_feasible": {
          "name": "is_feasible",
          "type": "boolean",
          "primaryKey": false,
          "notNull": true,
          "default": true
        },
        "feasibility_issues": {
          "name": "feasibility_issues",
          "type": "json",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {},
      "foreignKeys": {},
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.listing_shareable_links": {
      "name": "listing_shareable_links",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "serial",
          "primaryKey": true,
          "notNull": true
        },
        "listing_id": {
          "name": "listing_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "share_id": {
          "name": "share_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "profile_id": {
          "name": "profile_id",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "agent_name": {
          "name": "agent_name",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "agent_email": {
          "name": "agent_email",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "custom_message": {
          "name": "custom_message",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "view_count": {
          "name": "view_count",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 0
        },
        "last_viewed": {
          "name": "last_viewed",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "expires_at": {
          "name": "expires_at",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        }
      },
      "indexes": {},
      "foreignKeys": {
        "listing_shareable_links_profile_id_buyer_profiles_id_fk": {
          "name": "listing_shareable_links_profile_id_buyer_profiles_id_fk",
          "tableFrom": "listing_shareable_links",
          "tableTo": "buyer_profiles",
          "columnsFrom": [
            "profile_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {
        "listing_shareable_links_share_id_unique": {
          "name": "listing_shareable_links_share_id_unique",
          "nullsNotDistinct": false,
          "columns": [
            "share_id"
          ]
        }
      },
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.listing_visual_analysis": {
      "name": "listing_visual_analysis",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "serial",
          "primaryKey": true,
          "notNull": true
        },
        "listing_id": {
          "name": "listing_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "image_url": {
          "name": "image_url",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "image_type": {
          "name": "image_type",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "visual_tags": {
          "name": "visual_tags",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "summary": {
          "name": "summary",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "flags": {
          "name": "flags",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "confidence": {
          "name": "confidence",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 85
        },
        "analyzed_at": {
          "name": "analyzed_at",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "created_at": {
          "name": "created_at",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        }
      },
      "indexes": {},
      "foreignKeys": {},
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.llm_decisions": {
      "name": "llm_decisions",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "serial",
          "primaryKey": true,
          "notNull": true
        },
        "session_id": {
          "name": "session_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "agent_name": {
          "name": "agent_name",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "decision_type": {
          "name": "decision_type",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "user_requirements": {
          "name": "user_requirements",
          "type": "json",
          "primaryKey": false,
          "notNull": false
        },
        "market_context": {
          "name": "market_context",
          "type": "json",
          "primaryKey": false,
          "notNull": false
        },
        "system_prompt": {
          "name": "system_prompt",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "user_prompt": {
          "name": "user_prompt",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "raw_response": {
          "name": "raw_response",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "parsed_response": {
          "name": "parsed_response",
          "type": "json",
          "primaryKey": false,
          "notNull": false
        },
        "reasoning": {
          "name": "reasoning",
          "type": "json",
          "primaryKey": false,
          "notNull": false
        },
        "confidence": {
          "name": "confidence",
          "type": "numeric(3, 2)",
          "primaryKey": false,
          "notNull": false
        },
        "model": {
          "name": "model",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "default": "'gpt-4o'"
        },
        "temperature": {
          "name": "temperature",
          "type": "numeric(2, 1)",
          "primaryKey": false,
          "notNull": false,
          "default": "'0.7'"
        },
        "tokens_used": {
          "name": "tokens_used",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "response_time_ms": {
          "name": "response_time_ms",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "parent_decision_id": {
          "name": "parent_decision_id",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "decision_path": {
          "name": "decision_path",
          "type": "json",
          "primaryKey": false,
          "notNull": false
        },
        "outcome_success": {
          "name": "outcome_success",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false
        },
        "outcome_notes": {
          "name": "outcome_notes",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "human_override": {
          "name": "human_override",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": false
        },
        "timestamp": {
          "name": "timestamp",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {},
      "foreignKeys": {
        "llm_decisions_parent_decision_id_llm_decisions_id_fk": {
          "name": "llm_decisions_parent_decision_id_llm_decisions_id_fk",
          "tableFrom": "llm_decisions",
          "tableTo": "llm_decisions",
          "columnsFrom": [
            "parent_decision_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.nlp_search_logs": {
      "name": "nlp_search_logs",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "serial",
          "primaryKey": true,
          "notNull": true
        },
        "profile_id": {
          "name": "profile_id",
          "type": "integer",
          "primaryKey": false,
          "notNull": true
        },
        "agent_id": {
          "name": "agent_id",
          "type": "integer",
          "primaryKey": false,
          "notNull": true
        },
        "nlp_query": {
          "name": "nlp_query",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "nlp_response": {
          "name": "nlp_response",
          "type": "json",
          "primaryKey": false,
          "notNull": true
        },
        "search_url": {
          "name": "search_url",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "search_results": {
          "name": "search_results",
          "type": "json",
          "primaryKey": false,
          "notNull": true
        },
        "execution_time": {
          "name": "execution_time",
          "type": "integer",
          "primaryKey": false,
          "notNull": true
        },
        "nlp_id": {
          "name": "nlp_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "created_at": {
          "name": "created_at",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        }
      },
      "indexes": {},
      "foreignKeys": {
        "nlp_search_logs_profile_id_buyer_profiles_id_fk": {
          "name": "nlp_search_logs_profile_id_buyer_profiles_id_fk",
          "tableFrom": "nlp_search_logs",
          "tableTo": "buyer_profiles",
          "columnsFrom": [
            "profile_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        },
        "nlp_search_logs_agent_id_agents_id_fk": {
          "name": "nlp_search_logs_agent_id_agents_id_fk",
          "tableFrom": "nlp_search_logs",
          "tableTo": "agents",
          "columnsFrom": [
            "agent_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.profile_insights_lock": {
      "name": "profile_insights_lock",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "serial",
          "primaryKey": true,
          "notNull": true
        },
        "profile_id": {
          "name": "profile_id",
          "type": "integer",
          "primaryKey": false,
          "notNull": true
        },
        "is_locked": {
          "name": "is_locked",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 0
        },
        "created_at": {
          "name": "created_at",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        }
      },
      "indexes": {},
      "foreignKeys": {
        "profile_insights_lock_profile_id_buyer_profiles_id_fk": {
          "name": "profile_insights_lock_profile_id_buyer_profiles_id_fk",
          "tableFrom": "profile_insights_lock",
          "tableTo": "buyer_profiles",
          "columnsFrom": [
            "profile_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.profile_persona": {
      "name": "profile_persona",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "serial",
          "primaryKey": true,
          "notNull": true
        },
        "profile_id": {
          "name": "profile_id",
          "type": "integer",
          "primaryKey": false,
          "notNull": true
        },
        "emotional_tone": {
          "name": "emotional_tone",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "communication_style": {
          "name": "communication_style",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "decision_making_style": {
          "name": "decision_making_style",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "urgency_level": {
          "name": "urgency_level",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 50
        },
        "price_orientation": {
          "name": "price_orientation",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "personality_traits": {
          "name": "personality_traits",
          "type": "json",
          "primaryKey": false,
          "notNull": true,
          "default": "'[]'::json"
        },
        "confidence_score": {
          "name": "confidence_score",
          "type": "integer",
          "primaryKey": false,
          "notNull": true
        },
        "created_at": {
          "name": "created_at",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        }
      },
      "indexes": {},
      "foreignKeys": {
        "profile_persona_profile_id_buyer_profiles_id_fk": {
          "name": "profile_persona_profile_id_buyer_profiles_id_fk",
          "tableFrom": "profile_persona",
          "tableTo": "buyer_profiles",
          "columnsFrom": [
            "profile_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.profile_shareable_links": {
      "name": "profile_shareable_links",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "serial",
          "primaryKey": true,
          "notNull": true
        },
        "profile_id": {
          "name": "profile_id",
          "type": "integer",
          "primaryKey": false,
          "notNull": true
        },
        "share_id": {
          "name": "share_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "agent_name": {
          "name": "agent_name",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "agent_email": {
          "name": "agent_email",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "agent_phone": {
          "name": "agent_phone",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "custom_message": {
          "name": "custom_message",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "branding_colors": {
          "name": "branding_colors",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "show_visual_analysis": {
          "name": "show_visual_analysis",
          "type": "boolean",
          "primaryKey": false,
          "notNull": true,
          "default": true
        },
        "view_count": {
          "name": "view_count",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 0
        },
        "last_viewed": {
          "name": "last_viewed",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "expires_at": {
          "name": "expires_at",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "is_active": {
          "name": "is_active",
          "type": "boolean",
          "primaryKey": false,
          "notNull": true,
          "default": true
        }
      },
      "indexes": {},
      "foreignKeys": {
        "profile_shareable_links_profile_id_buyer_profiles_id_fk": {
          "name": "profile_shareable_links_profile_id_buyer_profiles_id_fk",
          "tableFrom": "profile_shareable_links",
          "tableTo": "buyer_profiles",
          "columnsFrom": [
            "profile_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {
        "profile_shareable_links_share_id_unique": {
          "name": "profile_shareable_links_share_id_unique",
          "nullsNotDistinct": false,
          "columns": [
            "share_id"
          ]
        }
      },
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.profile_tags": {
      "name": "profile_tags",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "serial",
          "primaryKey": true,
          "notNull": true
        },
        "profile_id": {
          "name": "profile_id",
          "type": "integer",
          "primaryKey": false,
          "notNull": true
        },
        "tag": {
          "name": "tag",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "category": {
          "name": "category",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "confidence": {
          "name": "confidence",
          "type": "integer",
          "primaryKey": false,
          "notNull": true
        },
        "source": {
          "name": "source",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "created_at": {
          "name": "created_at",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        }
      },
      "indexes": {},
      "foreignKeys": {
        "profile_tags_profile_id_buyer_profiles_id_fk": {
          "name": "profile_tags_profile_id_buyer_profiles_id_fk",
          "tableFrom": "profile_tags",
          "tableTo": "buyer_profiles",
          "columnsFrom": [
            "profile_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.property_interactions": {
      "name": "property_interactions",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "text",
          "primaryKey": true,
          "notNull": true
        },
        "session_id": {
          "name": "session_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "listing_id": {
          "name": "listing_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "interaction_type": {
          "name": "interaction_type",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "rating": {
          "name": "rating",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "reason": {
          "name": "reason",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "emotional_response": {
          "name": "emotional_response",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        }
      },
      "indexes": {},
      "foreignKeys": {
        "property_interactions_session_id_chat_sessions_id_fk": {
          "name": "property_interactions_session_id_chat_sessions_id_fk",
          "tableFrom": "property_interactions",
          "tableTo": "chat_sessions",
          "columnsFrom": [
            "session_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.property_notes": {
      "name": "property_notes",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "text",
          "primaryKey": true,
          "notNull": true
        },
        "session_id": {
          "name": "session_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "listing_id": {
          "name": "listing_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "note_text": {
          "name": "note_text",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "note_type": {
          "name": "note_type",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "default": "'personal'"
        },
        "created_at": {
          "name": "created_at",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "updated_at": {
          "name": "updated_at",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        }
      },
      "indexes": {},
      "foreignKeys": {
        "property_notes_session_id_chat_sessions_id_fk": {
          "name": "property_notes_session_id_chat_sessions_id_fk",
          "tableFrom": "property_notes",
          "tableTo": "chat_sessions",
          "columnsFrom": [
            "session_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.repliers_listings": {
      "name": "repliers_listings",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "text",
          "primaryKey": true,
          "notNull": true
        },
        "address": {
          "name": "address",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "price": {
          "name": "price",
          "type": "integer",
          "primaryKey": false,
          "notNull": true
        },
        "bedrooms": {
          "name": "bedrooms",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 0
        },
        "bathrooms": {
          "name": "bathrooms",
          "type": "numeric(3, 1)",
          "primaryKey": false,
          "notNull": true,
          "default": "'0'"
        },
        "square_feet": {
          "name": "square_feet",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "property_type": {
          "name": "property_type",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "city": {
          "name": "city",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "state": {
          "name": "state",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "zip_code": {
          "name": "zip_code",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "description": {
          "name": "description",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "features": {
          "name": "features",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "images": {
          "name": "images",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "listing_date": {
          "name": "listing_date",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "status": {
          "name": "status",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "default": "'active'"
        },
        "mls_number": {
          "name": "mls_number",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "lot_size": {
          "name": "lot_size",
          "type": "numeric(10, 2)",
          "primaryKey": false,
          "notNull": false
        },
        "year_built": {
          "name": "year_built",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "garage_spaces": {
          "name": "garage_spaces",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "default": "'now()'"
        }
      },
      "indexes": {},
      "foreignKeys": {},
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.search_outcomes": {
      "name": "search_outcomes",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "serial",
          "primaryKey": true,
          "notNull": true
        },
        "transaction_id": {
          "name": "transaction_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "profile_id": {
          "name": "profile_id",
          "type": "integer",
          "primaryKey": false,
          "notNull": true
        },
        "properties_clicked": {
          "name": "properties_clicked",
          "type": "json",
          "primaryKey": false,
          "notNull": false
        },
        "properties_saved": {
          "name": "properties_saved",
          "type": "json",
          "primaryKey": false,
          "notNull": false
        },
        "properties_shared": {
          "name": "properties_shared",
          "type": "json",
          "primaryKey": false,
          "notNull": false
        },
        "agent_satisfaction_rating": {
          "name": "agent_satisfaction_rating",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "search_quality_rating": {
          "name": "search_quality_rating",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "agent_notes": {
          "name": "agent_notes",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "search_refinement_needed": {
          "name": "search_refinement_needed",
          "type": "boolean",
          "primaryKey": false,
          "notNull": true,
          "default": false
        },
        "client_meeting_scheduled": {
          "name": "client_meeting_scheduled",
          "type": "boolean",
          "primaryKey": false,
          "notNull": true,
          "default": false
        },
        "total_session_time": {
          "name": "total_session_time",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "most_viewed_listings": {
          "name": "most_viewed_listings",
          "type": "json",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "updated_at": {
          "name": "updated_at",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        }
      },
      "indexes": {},
      "foreignKeys": {
        "search_outcomes_transaction_id_search_transactions_transaction_id_fk": {
          "name": "search_outcomes_transaction_id_search_transactions_transaction_id_fk",
          "tableFrom": "search_outcomes",
          "tableTo": "search_transactions",
          "columnsFrom": [
            "transaction_id"
          ],
          "columnsTo": [
            "transaction_id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        },
        "search_outcomes_profile_id_buyer_profiles_id_fk": {
          "name": "search_outcomes_profile_id_buyer_profiles_id_fk",
          "tableFrom": "search_outcomes",
          "tableTo": "buyer_profiles",
          "columnsFrom": [
            "profile_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.search_transaction_results": {
      "name": "search_transaction_results",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "serial",
          "primaryKey": true,
          "notNull": true
        },
        "transaction_id": {
          "name": "transaction_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "top_results": {
          "name": "top_results",
          "type": "json",
          "primaryKey": false,
          "notNull": true
        },
        "top_picks_data": {
          "name": "top_picks_data",
          "type": "json",
          "primaryKey": false,
          "notNull": true
        },
        "other_matches_data": {
          "name": "other_matches_data",
          "type": "json",
          "primaryKey": false,
          "notNull": true
        },
        "visual_analysis_data": {
          "name": "visual_analysis_data",
          "type": "json",
          "primaryKey": false,
          "notNull": false
        },
        "search_summary": {
          "name": "search_summary",
          "type": "json",
          "primaryKey": false,
          "notNull": true
        },
        "chat_blocks": {
          "name": "chat_blocks",
          "type": "json",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        }
      },
      "indexes": {},
      "foreignKeys": {
        "search_transaction_results_transaction_id_search_transactions_transaction_id_fk": {
          "name": "search_transaction_results_transaction_id_search_transactions_transaction_id_fk",
          "tableFrom": "search_transaction_results",
          "tableTo": "search_transactions",
          "columnsFrom": [
            "transaction_id"
          ],
          "columnsTo": [
            "transaction_id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.search_transactions": {
      "name": "search_transactions",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "serial",
          "primaryKey": true,
          "notNull": true
        },
        "transaction_id": {
          "name": "transaction_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "profile_id": {
          "name": "profile_id",
          "type": "integer",
          "primaryKey": false,
          "notNull": true
        },
        "agent_id": {
          "name": "agent_id",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "session_id": {
          "name": "session_id",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "profile_snapshot": {
          "name": "profile_snapshot",
          "type": "json",
          "primaryKey": false,
          "notNull": true
        },
        "search_parameters": {
          "name": "search_parameters",
          "type": "json",
          "primaryKey": false,
          "notNull": true
        },
        "search_method": {
          "name": "search_method",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "search_trigger": {
          "name": "search_trigger",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "raw_listings_count": {
          "name": "raw_listings_count",
          "type": "integer",
          "primaryKey": false,
          "notNull": true
        },
        "scored_listings_count": {
          "name": "scored_listings_count",
          "type": "integer",
          "primaryKey": false,
          "notNull": true
        },
        "top_picks_count": {
          "name": "top_picks_count",
          "type": "integer",
          "primaryKey": false,
          "notNull": true
        },
        "other_matches_count": {
          "name": "other_matches_count",
          "type": "integer",
          "primaryKey": false,
          "notNull": true
        },
        "no_image_count": {
          "name": "no_image_count",
          "type": "integer",
          "primaryKey": false,
          "notNull": true
        },
        "visual_analysis_count": {
          "name": "visual_analysis_count",
          "type": "integer",
          "primaryKey": false,
          "notNull": true
        },
        "total_execution_time": {
          "name": "total_execution_time",
          "type": "integer",
          "primaryKey": false,
          "notNull": true
        },
        "api_calls_count": {
          "name": "api_calls_count",
          "type": "integer",
          "primaryKey": false,
          "notNull": true
        },
        "visual_analysis_time": {
          "name": "visual_analysis_time",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "average_score": {
          "name": "average_score",
          "type": "numeric(5, 2)",
          "primaryKey": false,
          "notNull": false
        },
        "score_distribution": {
          "name": "score_distribution",
          "type": "json",
          "primaryKey": false,
          "notNull": false
        },
        "dealbreaker_properties_count": {
          "name": "dealbreaker_properties_count",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 0
        },
        "created_at": {
          "name": "created_at",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        }
      },
      "indexes": {},
      "foreignKeys": {
        "search_transactions_profile_id_buyer_profiles_id_fk": {
          "name": "search_transactions_profile_id_buyer_profiles_id_fk",
          "tableFrom": "search_transactions",
          "tableTo": "buyer_profiles",
          "columnsFrom": [
            "profile_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "search_transactions_agent_id_agents_id_fk": {
          "name": "search_transactions_agent_id_agents_id_fk",
          "tableFrom": "search_transactions",
          "tableTo": "agents",
          "columnsFrom": [
            "agent_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {
        "search_transactions_transaction_id_unique": {
          "name": "search_transactions_transaction_id_unique",
          "nullsNotDistinct": false,
          "columns": [
            "transaction_id"
          ]
        }
      },
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    }
  },
  "enums": {},
  "schemas": {},
  "sequences": {},
  "roles": {},
  "policies": {},
  "views": {},
  "_meta": {
    "columns": {},
    "schemas": {},
    "tables": {}
  }
}